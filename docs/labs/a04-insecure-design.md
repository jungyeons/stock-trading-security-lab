# A04 Insecure Design

## 학습 목표
- 비즈니스 규칙 검증이 보안의 일부임을 이해한다.

## 위험 설명
- 잔고/보유수량 검증 누락은 음수 잔고, 비정상 체결을 만든다.

## 점검 포인트
- 주문 생성 서비스의 잔고/수량 체크
- 동시성 시나리오에서 상태 일관성

## secure 대응
- 거래 전 도메인 검증과 트랜잭션 처리
- 실패 시 롤백 및 감사 로그

## 수정 후 검증 방법
- 잔고 초과 매수, 보유 초과 매도 요청이 거절되는지 확인
- 거래내역 일관성 검사
